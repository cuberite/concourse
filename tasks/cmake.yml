---
platform: linux

image_resource:
  type: docker-image
  source:
    repository: kaskada/cmake-gcc5

inputs:
- name: resource-cuberite-master-src

outputs:
- name: cmake-prepared-cuberite-master-src

run:
  path: cmake
  args:
    - ../resource-cuberite-master-src
    - -DCMAKE_BUILD_TYPE=RELEASE
    - -DNO_NATIVE_OPTIMIZATION=1
  dir: cmake-prepared-cuberite-master-src
